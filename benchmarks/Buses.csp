-----------------------------------------------------------------------------------------
-----------------------------------------------------------------------------------------
-- Buses.csp
--
-- AUTHORS: 	Simon Gay
-- DATE:        January 1999        
-- PUBLISHED:   Royal Holloway, University of London             
-- DESCRIPTION
-- This example describes a bus service with two buses running in parallel.
-----------------------------------------------------------------------------------------
-----------------------------------------------------------------------------------------

-----------------------------------------------------------------------------------------
-- SOURCE CODE (adapted version)
-----------------------------------------------------------------------------------------
channel board37A, alight37A, alight37B, 
        board111A, alight111A, alight111B, 
        pay70, pay90

BUS37 = board37A -> (pay90 -> alight37B -> SKIP [] alight37A -> SKIP)

BUS111 = board111A -> (pay70 -> alight111B -> SKIP [] alight111A -> SKIP)

SERVICE = BUS37 |~| BUS37

PASS = board37A -> pay90 -> alight37B -> SKIP

SYSTEM = SERVICE
         [|{|board37A,alight37A,alight37B,board111A,alight111A,alight111B,pay70,pay90|}|] 
		 PASS

MAIN = SYSTEM; MAIN
